# Tasks: 취약점 분석

## 태스크 규칙

- **상태**: `[TODO]` → `[DOING]` → `[DONE]`
- **태스크 ID**: `T-F002-{번호}`
- **GitHub Issue**: #5

---

## Phase 1: 기본 구조

- [DONE][P1] T-F002-01 취약점 엔티티 타입 정의
  - Owner: @agent
  - Checklist:
    - [x] `src/entities/vulnerability/model/types.ts` 생성
    - [x] Vulnerability, PackageVulnerability 인터페이스 정의

- [DONE][P1] T-F002-02 Zod 스키마 정의
  - Owner: @agent
  - Checklist:
    - [x] `src/features/vulnerability-analyzer/model/schemas.ts` 생성
    - [x] OSV API 응답 스키마 정의

## Phase 2: API 구현

- [DONE][P1] T-F002-03 OSV API 클라이언트
  - Owner: @agent
  - Checklist:
    - [x] `src/shared/api/osv-client.ts` 생성
    - [x] main → master 폴백 로직

- [DONE][P1] T-F002-04 취약점 분석 로직
  - Owner: @agent
  - Checklist:
    - [x] `src/features/vulnerability-analyzer/lib/analyze-vulnerabilities.ts` 생성
    - [x] severity 분류, 최대 심각도 계산

- [DONE][P1] T-F002-05 Server Action 구현
  - Owner: @agent
  - Checklist:
    - [x] `src/features/vulnerability-analyzer/api/analyze-package.ts` 생성
    - [x] 의존성 목록 → 취약점 정보 변환

## Phase 3: UI 구현

- [DONE][P1] T-F002-06 취약점 결과 컴포넌트
  - Owner: @agent
  - Checklist:
    - [x] `src/features/vulnerability-analyzer/ui/vulnerability-result.tsx` 생성
    - [x] 패키지별 취약점 표시, 심각도별 색상

- [DONE][P1] T-F002-07 취약점 상세 정보 컴포넌트
  - Owner: @agent
  - Checklist:
    - [x] 취약점 ID, 설명, 영향 버전 표시
    - [x] 수정 버전 정보 (있는 경우)

## Phase 4: 통합

- [DONE][P1] T-F002-08 홈 뷰 통합
  - Owner: @agent
  - Checklist:
    - [x] `src/views/home-view.tsx` 수정
    - [x] 의존성 파싱 후 취약점 분석 연동

## Phase 5: 테스트

- [DONE][P1] T-F002-09 유닛 테스트
  - Owner: @agent
  - Checklist:
    - [x] schemas.test.ts (8개 테스트)
    - [x] 브라우저 통합 테스트 (lodash 4.17.20)

---

## 완료 조건

- [x] 모든 태스크 [DONE]
- [x] `pnpm dev` 정상 실행
- [x] `pnpm test` 통과 (23개)
- [x] 의존성 분석 후 취약점 표시 동작
