# Feature Spec: 3D 젠가 시각화

## 개요

- **기능 ID**: F003
- **기능명**: 3d-visualization
- **작성일**: 2025-12-24
- **상태**: Draft
- **GitHub Issue**: [#7](https://github.com/leey00nsu/dependenga/issues/7)

---

## 목적

의존성 패키지와 취약점 정보를 3D 젠가 타워 형태로 시각화하여 프로젝트의 보안 상태를 직관적으로 파악할 수 있게 합니다.

---

## 사용자 스토리

### US-1: 3D 젠가 타워 보기

**As a** 개발자  
**I want** 의존성을 3D 젠가 타워로 보기를  
**So that** 프로젝트의 의존성 구조와 위험도를 직관적으로 파악할 수 있습니다.

**Acceptance Criteria:**
- [ ] 패키지별로 블록이 쌓인 젠가 타워 표시
- [ ] 취약점 심각도에 따른 블록 색상 구분
- [ ] 마우스/터치로 회전, 확대/축소 가능

### US-2: 블록 인터랙션

**As a** 개발자  
**I want** 블록을 호버/클릭하여 상세 정보를 보기를  
**So that** 특정 패키지의 취약점 정보를 확인할 수 있습니다.

**Acceptance Criteria:**
- [ ] 호버 시 패키지명, 버전, 심각도 툴팁 표시
- [ ] 클릭 시 상세 정보 패널 표시

---

## 기능 요구사항

### FR-1: 3D 렌더링

- **기술**: React Three Fiber (@react-three/fiber)
- **보조 라이브러리**: @react-three/drei (카메라 컨트롤, 텍스트 등)
- **성능**: 최대 100개 블록까지 60fps 유지

### FR-2: 블록 속성

| 속성 | 기준 |
|------|------|
| 색상 | 취약점 최대 심각도 (critical=빨강, high=주황, medium=노랑, low=연두, safe=초록) |
| 크기 | 기본 크기 동일 (MVP) |
| 위치 | 층별로 3개씩 쌓기, 층마다 90도 회전 |

### FR-3: 카메라 컨트롤

- OrbitControls 사용
- 마우스 드래그: 회전
- 스크롤: 확대/축소
- 터치 지원

### FR-4: 인터랙션

- 호버: 블록 하이라이트 + 툴팁
- 클릭: 상세 패널 표시/숨기기

---

## 비기능 요구사항

- **성능**: 60fps 렌더링 목표
- **접근성**: 3D 뷰 외 대체 텍스트 결과 제공 (F002 결과)
- **반응형**: 모바일에서도 동작

---

## 화면/플로우

```
[의존성 분석] → [취약점 분석] → [3D 시각화 버튼] → [젠가 타워 표시]
                                                    ↓
                                            [블록 호버/클릭]
                                                    ↓
                                            [상세 정보 패널]
```

---

## 엣지 케이스

- 패키지가 0개인 경우: "분석할 패키지가 없습니다" 메시지
- 100개 초과: 상위 100개만 표시 + 경고
- WebGL 미지원 브라우저: 대체 메시지

---

## 스펙 외 (Out of Scope)

- 물리 시뮬레이션 (블록 무너짐)
- 애니메이션 전환
- 의존성 깊이 기반 위치 (MVP에서는 단순 스택)

---

## 관련 문서

- PRD: [dependenga-prd.md](../../prd/dependenga-prd.md)
- 이전 기능: F002-vulnerability-analysis
